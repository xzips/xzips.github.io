<!DOCTYPE html><link rel="stylesheet" href="/_astro/_slug_.I2aT2Z64.css">
<style>.page{color:#e2e8f0eb;background:#020617}.container{width:100%;max-width:68rem;margin:0 auto;padding:0 0 4rem}@media(min-width:640px){.container{padding:0 1rem 4rem}}.hero-crop{position:relative;width:100%;aspect-ratio:5 / 1;max-height:400px;min-height:260px;overflow:hidden;border-radius:1.25rem;border:1px solid rgba(255,255,255,.1);background:#02061799;box-shadow:inset 0 0 0 1px #ffffff0a;margin-top:.75rem}.hero-crop video{width:100%;height:100%;object-fit:cover;display:block}.hero-overlay{position:absolute;inset:0;background:linear-gradient(to bottom,#02061740,#020617d9)}.hero-title{position:absolute;inset:0;display:flex;align-items:flex-end;justify-content:center;padding:1rem;text-align:center}.hero-title h1{margin:0;color:#f8fafcfa;font-weight:800;letter-spacing:-.02em;font-size:clamp(1.4rem,2.6vw,2.1rem)}.summary{margin-top:1rem;display:grid;gap:.75rem}@media(min-width:768px){.summary{grid-template-columns:1fr 1fr}.summary .stack{grid-column:1 / -1}}.card{border-radius:1rem;border:1px solid rgba(255,255,255,.1);background:#020617a6;padding:1rem}.kicker{margin:0;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.18em;color:#e2e8f0f2}.bullets{margin:.75rem 0 0;padding:0;list-style:none;display:grid;gap:.5rem;font-size:.95rem;color:#e2e8f0e6}.bullet-row{display:flex;gap:.6rem;align-items:flex-start}.dot{margin-top:.45rem;height:.5rem;width:.5rem;border-radius:9999px;background:#94a3b8e6;flex:0 0 auto}.chips{margin-top:.75rem;display:flex;flex-wrap:wrap;gap:.5rem}.chip{border-radius:9999px;border:1px solid rgba(255,255,255,.12);background:#ffffff14;padding:.35rem .75rem;font-size:12px;font-weight:700;color:#f8fafcfa}.writeup-wrap{margin-top:1.25rem;border-radius:1rem;border:1px solid rgba(255,255,255,.1);background:#0206178c;padding:1.25rem}.writeup h2{margin:2rem 0 1rem;color:#f8fafcfa;font-weight:800;letter-spacing:-.02em;font-size:1.6rem;line-height:1.15}.writeup h3{margin:1.5rem 0 .75rem;color:#f8fafcfa;font-weight:800;letter-spacing:-.01em;font-size:1.15rem}.writeup p{margin:0 0 1rem;line-height:1.7}.writeup li{line-height:1.65}.writeup ul,.writeup ol{margin:.5rem 0 1.25rem 1.25rem;padding-left:1.25rem}.writeup ul{list-style:disc}.writeup ol{list-style:decimal}.writeup ul ul,.writeup ol ol,.writeup ul ol,.writeup ol ul{margin-top:.4rem}.writeup li{margin:.35rem 0}.writeup a{color:#7dd3fcf2;text-decoration:none}.writeup a:hover{text-decoration:underline}.writeup img,.writeup video{border-radius:.75rem;border:1px solid rgba(255,255,255,.12);background:#02061799}.writeup .media,.writeup .media-video,.writeup table,.writeup .math-block{margin:1.25rem 0}.media-video{width:100%;border-radius:1rem;border:1px solid rgba(255,255,255,.1);display:block}.media{margin-top:.75rem;width:100%;max-width:760px;display:block}.placeholder{margin:.75rem 0 0;opacity:.92}
</style><section class="page" data-astro-cid-c4loiyl2> <div class="container" data-astro-cid-c4loiyl2> <!-- Cropped hero: background video + title --> <section class="hero-crop" aria-label="Project hero" data-astro-cid-c4loiyl2> <video autoplay muted loop playsinline data-astro-cid-c4loiyl2> <source src="/_astro/UAV%20Background%20Clip.DlU4sbm4.mp4" type="video/mp4" data-astro-cid-c4loiyl2>
Your browser does not support the video tag.
</video> <div class="hero-overlay" data-astro-cid-c4loiyl2></div> <div class="hero-title" data-astro-cid-c4loiyl2> <h1 class="mb-3 bread" data-astro-cid-c4loiyl2>3D Printed Fixed-Wing UAV</h1> </div> </section> <!-- Technical focus + Results + Stack first --> <section class="summary" data-astro-cid-c4loiyl2> <div class="card" data-astro-cid-c4loiyl2> <h4 class="kicker" data-astro-cid-c4loiyl2>Technical focus</h4> <ul class="bullets" data-astro-cid-c4loiyl2> <li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Design a 1.1m-span 3D-printed airframe validated with CFD runs in FluidX3D on an RTX A6000.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Build a custom digital communication protocol over LoRa with a Raspberry Pi Pico ground station and Teensy 4.0 flight controller.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Design custom PCBs and power for radio/servo control; integrate sensors, EDF propulsion, and fail-safes.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>C++ ground station GUI plus firmware, antenna matching and RF validation with a NanoVNA and oscilloscope.</span> </li> </ul> </div> <div class="card" data-astro-cid-c4loiyl2> <h4 class="kicker" data-astro-cid-c4loiyl2>Results</h4> <ul class="bullets" data-astro-cid-c4loiyl2> <li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Airframe printed and assembled with steering gear, avionics operational, 500m line-of-sight link verified.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>EDF thrust measured at 510g, RF transmitter power rails show ~4mV ripple during load.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Custom LoRa PCBs and a ground-station enclosure built; SPI init bug fixed from 15kHz to 8MHz in the LoRa library.</span> </li><li class="bullet-row" data-astro-cid-c4loiyl2> <span class="dot" data-astro-cid-c4loiyl2></span> <span data-astro-cid-c4loiyl2>Range improved from 20-30m on nRF24 to 100-150m on breadboard LoRa with further gains to 500m from power amps and antenna tuning.</span> </li> </ul> </div> <div class="card stack" data-astro-cid-c4loiyl2> <h4 class="kicker" data-astro-cid-c4loiyl2>Stack</h4> <div class="chips" data-astro-cid-c4loiyl2> <span class="chip" data-astro-cid-c4loiyl2>Embedded systems</span><span class="chip" data-astro-cid-c4loiyl2>PCB Design</span><span class="chip" data-astro-cid-c4loiyl2>C++</span><span class="chip" data-astro-cid-c4loiyl2>Computational fluid dynamics (CFD)</span><span class="chip" data-astro-cid-c4loiyl2>Aerodyanmics</span><span class="chip" data-astro-cid-c4loiyl2>Multi-system integration </span><span class="chip" data-astro-cid-c4loiyl2>Design for manufacturing</span><span class="chip" data-astro-cid-c4loiyl2>Oscilloscope Debugging </span> </div> </div> </section> <!-- Full writeup (verbatim content) --> <section class="writeup-wrap" data-astro-cid-c4loiyl2> <div class="writeup" data-astro-cid-c4loiyl2> <h2 class="mb-2" data-astro-cid-c4loiyl2>How I Designed and Built a Fixed-Wing Remote Controlled UAV as an Individual</h2> <a href="https://github.com/xzips/RCLink" target="_blank" class="btn btn-outline-primary" data-astro-cid-c4loiyl2>
Code Available on GitHub
</a> <h2 data-astro-cid-c4loiyl2>Introduction </h2> <p data-astro-cid-c4loiyl2>
As an Aerospace Engineering student, I have a passion for aviation and space exploration. Of the two passions, aviation is the more accessible, and I have always wanted to design and build my own aircraft.
          This project was an opportunity to do just that, and I decided to design and build a fixed-wing UAV from scratch.
</p> <p data-astro-cid-c4loiyl2>
In addition to a custom-designed airframe (based on CFD simulations) I wanted to challenge myself by developing a completely custom digital communication protocol controlled from any Windows PC.
          Finally, I wanted the UAV to be relatively large, with a wingspan of approx. 1.1m, and stream telemetry data back to the ground station in real-time.
</p> <h3 data-astro-cid-c4loiyl2> Current Project State Demo </h3> <p data-astro-cid-c4loiyl2>
Currently, the project is in the final stages of development. The entire airframe except top cover has been 3D printed and assembled,
          all avionics have been tested and are operational, and the communication range has been verified at 500m line-of-sight with acceptable data rates.
          The final steps before flight is to add the top cover, and tweak ground-station cooling system to ensure safer temperatures during operation.
          Below is a short video test of the avionics in action.
<video width="100%" max-width="600px" controls style="margin-top: 10px;" data-astro-cid-c4loiyl2> <source src="/_astro/CurrentPlaneTest.BJg-w4F9.mp4" type="video/mp4" data-astro-cid-c4loiyl2>
Your browser does not support the video tag.
</video> </p> <h3 data-astro-cid-c4loiyl2>Engineering Objectives </h3> <ul data-astro-cid-c4loiyl2> <li data-astro-cid-c4loiyl2>Bi-Directional Communication Range of At Least 1km</li> <li data-astro-cid-c4loiyl2>Communication Rate of At Least 20 updates per second </li> <li data-astro-cid-c4loiyl2>Wingspan of At Least 1.0m</li> <li data-astro-cid-c4loiyl2>Materials Cost Under $500</li> <li data-astro-cid-c4loiyl2>Fail-Safe Mechanisms if Communication is Lost</li> </ul>
In addition to the Engineering Objectives, I placed a few additional constraints on the project to boost my learning outcomes:
<h3 data-astro-cid-c4loiyl2>Constraints </h3> <ul data-astro-cid-c4loiyl2> <li data-astro-cid-c4loiyl2>Any non-temporary electronics must be put on a custom PCB</li> <li data-astro-cid-c4loiyl2>I may not use pre-existing dedicated RC transmit/recieve setups, I must make my own</li> <li data-astro-cid-c4loiyl2>Any software excluding generic libraries must be written by me in either C or C++</li> <li data-astro-cid-c4loiyl2>Any major iterations of the airframe must be validated using computational fluid dynamics (CFD) simulations</li> <li data-astro-cid-c4loiyl2>No aspect of the assembly may be permanently glued, all parts must be removable (i.e. bolt-together)</li> </ul> <h2 data-astro-cid-c4loiyl2> Avionics Hardware Design Process </h2> <h4 data-astro-cid-c4loiyl2>Electronics Test Rig and Specs</h4> <p data-astro-cid-c4loiyl2>
Research is the first step in any project, and after researching the available options for RF modules,
          I decided at first to use the nRF24L01+ modules for their low cost and high data rate. The modules
          are rated for a range of 1km+ with a data rate of 2Mbps, which was more than enough for my application.
          For the servo controller, I went with the tried and true PCA9685, which is a 16-channel servo controller.
          In order to record orientation data, I used a MPU6050 6-axis gyroscope and accelerometer. For the main
          flight controller, I used a Teensy 4.0, which is a powerful micro-controller with a 600MHz ARM Cortex-M7.
          Admittedly, this was overkill for the application, but I wanted to limit any potential bottlenecks in the
          control system. For propulsion, I used a 40mm EDF (electronic ducted fan) powered by a brushless DC motor.
          The EDF and speed controller were rated for 500W peak power, with 500g of thrust, which was more than enough
          but I still validated the performance later on. Note that for the computer to NRF24 connection I
          used an unofficial variant of the Raspberry Pi Pico which offered some extra features compared
          to the official variant (specifically, USB-C). Pictured below is the first iteration of the avionics test rig in the center,
          and the Pico transceiver setup on a breadboard on the right.
</p> <img src="/_astro/UAVTestRig1.ChknWum_.jpg" alt="Avionics Test Rig Image" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Preliminary Testing using The Rig</h4> <p data-astro-cid-c4loiyl2>
Once this test rig was complete, I spent considerable time designing and programming the
          PC control software, which you can view on GitHub (along with all other code), and I go more
          into depth in the software section, but at a high level it was a simple GUI written in C++
          that interfaced with the Pico over serial USB to send and receive data.
</p> <h4 data-astro-cid-c4loiyl2>EDF Thrust Verification Test</h4> <p data-astro-cid-c4loiyl2>
To verify the thrust of the 40mm EDF, I set up a simple test rig where the motor was secured in place on a scale to measure the thrust output. 
          The test showed a peak thrust output of 510g, exceeding the manufacturer's specification slightly. This test provided the confidence needed to proceed with the propulsion setup in the airframe design.
</p> <img src="/_astro/EDFTestRig.BCLWb8b3.JPG" alt="EDF Thrust Test" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Making a Custom PCB</h4> <p data-astro-cid-c4loiyl2>
The test-rig completed above showed excellent performance characteristics for control and telemetry speed,
          but I was having some issues with range. After researching more on the NRF24 modules, it turns out
          that they are very sensitive to poor power supply quality (including wiring), so I figured the
          best way to eliminate any issues caused by my (cheap) power setup was to make a custom PCB with
          components from reputable manufacturers and suppliers. I used 3.3v and 5.0v voltage regulators 
          from the reputable Infineon Technologies, ordered directly from DigiKey. I also used appropriate
          decoupling capacitors and followed the datasheets for my power components to the letter.
          Pictured below is the resulting PCB, which I designed in Altium Designer and ordered from PCBWay.
          The soldered PCB is shown below, note the DIY shielding on the NRF24 module in an attempt to 
          reduce interference and improve range.
</p> <img src="/_astro/UAVPCB_1.B6zHR2Av.jpg" alt="Custom PCB" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <p data-astro-cid-c4loiyl2>
I also created a temporary proto-board for the Pico transceiver that connects to my PC, and 3D Printed
          a case for it. This was a temporary but effective solution for the time being. It is pictured in the image below
          alongside the powered custom PCB from the other image above.
</p> <p data-astro-cid-c4loiyl2> <img src="/_astro/UAVPCB_SideBySide_2.BxtLKpgu.jpg" alt="UAV PCB Sie by Side" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> </p> <p data-astro-cid-c4loiyl2>
Feeling quite pleased with my work so far, I wanted to verify the power supply performance during 
          transmitting and receiving conditions. I used my new and shiny Siglent SDS1104X-E oscilloscope to
          probe the voltage stability during operation. I was able to verify that the
          voltage ripple had a peak-peak value of ~4mV during transmission, which is well within the manufacturers
          specified limit of 20mV.
</p> <h4 data-astro-cid-c4loiyl2>Abysmal Performance</h4> <p data-astro-cid-c4loiyl2>
However, upon taking my prototype outside for a range test, I was very disappointed to find that
          the reliable communication range was only about 20m, and the connection refused to work at allowing
          past 30m. After some more research, the poor performance could be caused by a number of reasons
          including interference (local WiFi), poor antenna quality, poor power supply quality, and inadequate shielding.
          Seeing as I had already eliminated the last two options, and I didn't have a good way to test or improve
          the conditions of the first (I was already using a 2.4GHz rated antenna provided with the modules).
</p> <h4 data-astro-cid-c4loiyl2>Switching Communication Modules: LoRa</h4> <p data-astro-cid-c4loiyl2>
With the test data to show that the nRF24L01 modules were inadequate in range, but overkill in data rate,
          I decided to research alternatives that compromise datarate in favor of range. I settled on the LoRa
          class of modules, which are designed for long-range, relatively low data rate applications. I ordered a set of 4
          Ra-02 LoRa modules operating on the 433MHz band. I held off on ordering a new PCB until I could verify at least
          some baseline performance even with a questionably wired and powered breadboard setup. My test setup is pictured below. Note the 4 LoRa modules total,
          they operate on slightly different frequencies to avoid interference, with pairs handling the transmit and receive respectively,
          this offers higher datarate and lower overhead compared to a single module setup switching between transmit and receive.
          Additionally, using separate transmit and receive paths allows for adding power amplifiers and low-noise amplifiers (as I do later on).
</p> <img src="/_astro/LoRaTest_2.CzwE6B_D.JPG" alt="LoRa Outside Test 1" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>LoRa Results - Better Performance!</h4> <p data-astro-cid-c4loiyl2>
To test the range of the LoRa modules I put my laptop with the ground-station breadboard
          connected to my laptop on a balcony, and walked down the street in line-of-sight
          with the receiving test rig, and I was able to obtain a reliable range of 100m, and 
          a spotty connection up to 150m. While this is not good enough yet, it's much better,
          and to improve the range further I designed custom PCBs with better power supplies,
          and adding external power amplifiers to the LoRa modules.
</p> <img src="/_astro/LoRaTest_3.BJ2x_OCB.JPG" alt="LoRa Custom PCB" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Custom LoRa PCBs</h4> <p data-astro-cid-c4loiyl2>
Having measured the success of the LoRa modules in the test rig, and having a plan to 
          improve range even further (adding power amplifiers), I designed a custom PCB for the
          UAV and the ground station. Both new PCB's are pictured below. Note that the design is 
          significantly simplified compared to the nRF24L01+ version, with only a single 3.3v regulator,
          and using an external UBEC to power everything at 5V. I also removed a few extra sensor
          slots in the board that I knew I wouldn't be making use of in the current design.
</p> <img src="/_astro/TempLoRaPCB.DL5Ym4LX.JPG" alt="LoRa Custom PCBs" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Vector Network Analyzer (VNA) for Antenna Evaluation</h4> <p data-astro-cid-c4loiyl2>
Another important factor for improving the range of RF communications is proper
          antenna matching. Antenna matching is the process of choosing (or tuning) an antenna
          to have the same impedance as the RF system driving it, and ensuring that the 
          reflected power due to mismatch is low. A way of measuring this is with a Vector Network Analyzer (VNA).
          Professional VNA's cost thousands of dollars, but recently a few low-cost options have come to market,
          including the NanoVNA, of which I obtained the V2 variant with a working frequency range of 50kHz to 3GHz, plenty
          for my current and future RF projects.
          Using my NanoVNA I was able to learn that my provided antennas for the LoRas were not quite optimal
          (resulting in a transmit power reduction of approx 30%).
          This information allowed me to inform a decision to buy a set of verified 433MHz 50Ohm antennas
          from a reputable manufacturer through DigiKey. An example of using the VNA to measure an antenna is shown below.
</p> <img src="/_astro/NanoVNATest1.vCsCipVb.JPG" alt="Communication Pair" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Power Amplifier and Ground Station Enclosure</h4> <p data-astro-cid-c4loiyl2>
Since I will be using a power-amplifier for the transmitter on the ground station (and UAV),
          I needed to design an enclosure that includes adequate airflow to cool my 3W power amplifier,
          and keep the ground station stable and secure during operation. The custom 3D printed enclosure with all electronics
          assembled is shown below.
</p> <img src="/_astro/PowerAmpGroundStation.DriuCPFr.JPG" alt="LoRa Ground Station Setup" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h3 data-astro-cid-c4loiyl2>Avionics Firmware & Software Design Process</h3> <h4 data-astro-cid-c4loiyl2>PC Control Software</h4> <p data-astro-cid-c4loiyl2>
The control software is a Windows application written in C++, using SFML for creating a simple GUI. It allows real-time control of the UAV via keyboard and mouse, while telemetry feedback is visualized on-screen. 
          Telemetry data includes orientation, battery voltage, and a 3D-rendered preview of the UAV's control surfaces. The GUI runs on a separate thread from the serial communication, which handles the transmission and receipt of data from the UAV via the ground station.
          Below is a screenshot of the GUI in action.
</p> <img src="/_astro/RCLinkScreenshot.BdZsg9aB.JPG" alt="Control Software GUI" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Ground Station Firmware</h4> <p data-astro-cid-c4loiyl2>
The ground station firmware runs on the Raspberry Pi Pico, utilizing its dual-core architecture. One core handles communication with the LoRa module over SPI, while the other core handles serial communication with the PC.
          Mutexes are used to ensure reliable communication between the cores without race conditions.
          I used CMake for project organization and development. During testing, I discovered a flaw in the LoRa library that introduced a 40% slowdown in data transmission.
          I corrected this issue and submitted a pull request to the library's public repository.
          Below is a screenshot from my oscilloscope showing exceedingly slow SPI communication, limiting
          overall performance. The issue was due to the library incorrectly initializing the SPI bus speed to 15KHz instead of 8MHz.
</p> <img src="/_astro/SlowLoRaOscilloscopeTest.BDdnjhIL.JPG" alt="LoRa Speed Fix Oscilloscope" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Flight Controller Firmware</h4> <p data-astro-cid-c4loiyl2>
The flight controller firmware, running on the Teensy 4.0, is responsible for real-time control surface adjustments and telemetry updates.
          The main loop checks for new RF data, reads IMU data (triggered by interrupts), and sends telemetry data such as battery voltage and orientation to the ground station.
          A debug OLED screen is also updated with connection info and device status.
          Fail-safe routines are embedded in the loop to neutralize the control surfaces and shut off the engine in case of lost communication.
</p> <h4 data-astro-cid-c4loiyl2>Custom Communication Protocol</h4> <p data-astro-cid-c4loiyl2>
LoRa and nRF24 modules only allow raw byte transfers, so I developed a custom protocol to manage communication.
          Initially, individual control packets for each device were sent, but this approach was inefficient and not very reliable if some packets dropped but others didn't (desync between control surfaces, etc).
          I switched to transferring serialized structs, Base64-encoded, which reduced the data size by 10x for the same information.
          This approach not only improved communication speed but also minimized the risk of transmission errors and reduced the module's time-on-air, lowering interference susceptibility.
          Below is a diagram of the communication protocol.
</p> <img src="/_astro/CommProtocolDiagram.f_NWd-Qk.JPG" alt="Custom Communication Protocol Diagram" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Kalman Filtering for Attitude Measurement</h4> <p data-astro-cid-c4loiyl2>
I implemented a Kalman filter to combine gyroscope and accelerometer data from the MPU6050.
          The Kalman filter smooths noisy measurements and provides accurate and reliable orientation data for the UAV's control system.
          While I could have implemented the filter on the Teensy directly, I chose to use the MPU6050's internal processor to compute the filter at its maximum allowable measurement rate, bypassing bottlenecks related to inter-device communication and competing processes.
          This setup resulted in highly accurate and stable orientation readings even under simulated vibration conditions.
</p> <h2 data-astro-cid-c4loiyl2>Airframe Design Process</h2> <h4 data-astro-cid-c4loiyl2>Traditional Fixed-Wing Aircraft Design Principles</h4> <p data-astro-cid-c4loiyl2>
The design of this fixed-wing UAV follows traditional aircraft design principles. The flight envelope and wing loading were key considerations, with the use of carbon fiber rods to improve rigidity and prevent wing flex during flight. The relatively low aspect ratio of the wings was chosen to balance between lift generation and maneuverability, which fits the intended cruise speed.
</p> <h4 data-astro-cid-c4loiyl2>Airfoil Design Principles</h4> <p data-astro-cid-c4loiyl2>
The airfoil design was selected to provide optimal lift while minimizing drag.
          Key parameters like camber, thickness, and chord length were chosen to maintain a good lift-to-drag ratio across various angles of attack.
          The stall characteristics were also evaluated, ensuring that the aircraft remains stable at lower speeds.
</p> <img src="/_astro/WingCrossSection.DpR529x2.JPG" alt="Airfoil Cross-Section" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Computational Fluid Dynamics (CFD) for Optimization</h4> <p data-astro-cid-c4loiyl2>
I used CFD simulations to validate and optimize my airframe design,
          ensuring that drag and lift values aligned with my weight budget and thrust requirements.
          These simulations were run using FluidX3D on a 24GB RTX A6000 GPU for several hours to
          produce reliable results at low cost.
          The results provided accurate lift and drag coefficients across various speeds and
          angles of attack, helping refine the design before manufacturing. Below is a
          table showing lift and drag data at different speeds for the same angle of attack,
          this data in particular was gathered to better understand takeoff speeds required.
</p> <img src="/_astro/CFDSim1.fk1ITgJ4.JPG" alt="CFD Render" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <table style="width:100%; max-width:600px; margin-top:10px; margin-bottom:10px;" data-astro-cid-c4loiyl2> <tr data-astro-cid-c4loiyl2> <th data-astro-cid-c4loiyl2>Speed (m/s)</th> <th data-astro-cid-c4loiyl2>Angle of Attack (deg)</th> <th data-astro-cid-c4loiyl2>Lift (N)</th> <th data-astro-cid-c4loiyl2>Drag (N)</th> </tr> <tr data-astro-cid-c4loiyl2> <td data-astro-cid-c4loiyl2>16</td> <td data-astro-cid-c4loiyl2>4</td> <td data-astro-cid-c4loiyl2>61.7</td> <td data-astro-cid-c4loiyl2>8.9</td> </tr> <tr data-astro-cid-c4loiyl2> <td data-astro-cid-c4loiyl2>8</td> <td data-astro-cid-c4loiyl2>4</td> <td data-astro-cid-c4loiyl2>27.2</td> <td data-astro-cid-c4loiyl2>2.4</td> </tr> <tr data-astro-cid-c4loiyl2> <td data-astro-cid-c4loiyl2>5</td> <td data-astro-cid-c4loiyl2>4</td> <td data-astro-cid-c4loiyl2>13.5</td> <td data-astro-cid-c4loiyl2>1.2</td> </tr> </table> <h4 data-astro-cid-c4loiyl2>Design for 3D Printing</h4> <p data-astro-cid-c4loiyl2>
The airframe design went through several iterations to ensure it was 3D-printable and manufacturable. Initially, the structure was too flimsy, so I incorporated carbon fiber tubes to reinforce the wings and the fuselage. The special PolyLite PLA material, which has 40% lower density than regular PLA, was used for its weight-saving properties, although it required precise tuning of the 3D printer to produce high-quality results.
          The design was also adjusted to allow for assembly using bolt joints, ensuring a rigid structure while keeping components removable for repairs or modifications.
</p> <h4 data-astro-cid-c4loiyl2>Control Surfaces</h4> <p data-astro-cid-c4loiyl2>
The control surfaces were designed for smooth, reliable operation with small lightweight metal gear servos. I incorporated a bearing mechanism into the wing, allowing for axial stability and flutter prevention. The surfaces were secured but designed to be easily removed for maintenance.
</p> <img src="/_astro/UAVControlSurface.DF7gjUmJ.JPG" alt="Control Surface Design" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> <h4 data-astro-cid-c4loiyl2>Landing Gear</h4> <p data-astro-cid-c4loiyl2>
The landing gear incorporates a custom 3D-printed steering mechanism designed to bear significant weight while still allowing for smooth rotation. A bearing stack was integrated to ensure durability under harsh landings, with steering actuated remotely via a servo.
</p> <img src="/_astro/FrontWheelMechanism.BcABCOPS.jpg" alt="Front Landing Gear with Steering" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px; display: block;" data-astro-cid-c4loiyl2> </div> </section> </div> </section>