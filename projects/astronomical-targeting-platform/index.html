<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Astronomical Targeting | Aspen Erlandsson</title><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/_astro/_slug_.g6gHRgPj.css">
<link rel="stylesheet" href="/_astro/index.CqwNwqBU.css"></head> <body class="bg-slate-950 text-slate-100 antialiased"> <div class="pointer-events-none fixed inset-0 -z-10 opacity-40"> <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(56,189,248,0.18),transparent_25%)]"></div> <div class="absolute inset-0 bg-[radial-gradient(circle_at_80%_0%,rgba(129,140,248,0.12),transparent_22%)]"></div> <div class="absolute inset-0 bg-[radial-gradient(circle_at_10%_80%,rgba(52,211,153,0.12),transparent_30%)]"></div> </div> <main class="mx-auto flex max-w-6xl flex-col gap-6 px-4 pb-16 pt-10 sm:px-6 lg:px-8"> <div class="flex items-center justify-between gap-3"> <a class="inline-flex items-center gap-2 text-sm font-semibold text-sky-200 transition hover:text-sky-100" href="/#projects"> <span aria-hidden="true">‚Üê</span> Back to projects
</a> </div> <section class="relative overflow-hidden rounded-3xl border border-white/8 bg-slate-950/90 p-6 shadow-2xl backdrop-blur sm:p-10"> <div class="absolute inset-0 bg-gradient-to-br from-purple-300/55 via-indigo-400/55 to-sky-400/55 opacity-20"></div> <div class="relative space-y-8">  <div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"> <div class="space-y-2"> <h1 class="text-2xl font-bold text-slate-50 sm:text-3xl">Astronomical Targeting</h1> <p class="max-w-3xl text-sm leading-relaxed text-slate-300/90">2-axis platform using sensor fusion (GPS/IMU) to point lasers at celestial targets. Custom PCB driven by Python.</p> </div> <div class="flex flex-wrap gap-2 sm:justify-end"> <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-200"> Sensor Fusion / Mechanics </span> <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> Sensor fusion </span><span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> Custom PCB </span><span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> Astro pointing </span> </div> </div> <div class="h-px w-full bg-white/5"></div> <div class="prose prose-invert max-w-none prose-headings:text-slate-100 prose-p:text-slate-300 prose-a:text-sky-300 hover:prose-a:text-sky-200 prose-strong:text-slate-50 prose-code:text-sky-200 prose-pre:bg-slate-950/50 prose-pre:border prose-pre:border-white/10"> <script type="module" src="/_astro/astronomical-targeting-platform.astro_astro_type_script_index_0_lang.2DUTERfN.js"></script> <section class="page" data-astro-cid-cqyjsc37> <div class="container" data-astro-cid-cqyjsc37> <!-- Cropped hero: background video + title --> <section class="hero-crop" aria-label="Project hero" data-astro-cid-cqyjsc37> <video autoplay muted loop playsinline data-astro-cid-cqyjsc37> <source src="/_astro/Targeter%20Spinning%20BG%20V2.DO-TQz6F.mp4" type="video/mp4" data-astro-cid-cqyjsc37>
Your browser does not support the video tag.
</video> <div class="hero-overlay" data-astro-cid-cqyjsc37></div> <div class="hero-title" data-astro-cid-cqyjsc37> <h1 class="mb-3 bread" data-astro-cid-cqyjsc37>Precise Astronomical Targeting Platform</h1> </div> </section> <!-- Technical focus + Results + Stack first --> <section class="summary" data-astro-cid-cqyjsc37> <div class="card" data-astro-cid-cqyjsc37> <h4 class="kicker" data-astro-cid-cqyjsc37>Technical focus</h4> <ul class="bullets" data-astro-cid-cqyjsc37> <li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>2DOF platform driven by geared steppers and metal gearboxes with a 3D printed frame.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Raspberry Pi 4 controller with Python astronomy calculations and stepper control.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Custom PCB for DRV8825 drivers, power management, and sensor interfaces.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Sensor fusion across GPS, magnetometer, accelerometer, and gyroscope with calibration routines.</span> </li> </ul> </div> <div class="card" data-astro-cid-cqyjsc37> <h4 class="kicker" data-astro-cid-cqyjsc37>Results</h4> <ul class="bullets" data-astro-cid-cqyjsc37> <li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Hardware complete with refined gear trains and assembled platform, laser pointer payload installed and tested.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Current software supports moon pointing, broader celestial catalog is next.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Custom PCB replaced breadboard wiring and DRV8825 decay-mode rework removed acoustic whine.</span> </li><li class="bullet-row" data-astro-cid-cqyjsc37> <span class="dot" data-astro-cid-cqyjsc37></span> <span data-astro-cid-cqyjsc37>Magnetometer and IMU calibration routines validated, platform ready for expanded tests.</span> </li> </ul> </div> <div class="card stack" data-astro-cid-cqyjsc37> <h4 class="kicker" data-astro-cid-cqyjsc37>Stack</h4> <div class="chips" data-astro-cid-cqyjsc37> <span class="chip" data-astro-cid-cqyjsc37>dynamics</span><span class="chip" data-astro-cid-cqyjsc37>python</span><span class="chip" data-astro-cid-cqyjsc37>PCB design</span><span class="chip" data-astro-cid-cqyjsc37>sensor fusion</span><span class="chip" data-astro-cid-cqyjsc37>CAD</span><span class="chip" data-astro-cid-cqyjsc37>user interface</span> </div> </div> </section> <!-- Full writeup (verbatim content) --> <section class="writeup-wrap" data-astro-cid-cqyjsc37> <div class="writeup" data-astro-cid-cqyjsc37> <h2 class="mb-2" data-astro-cid-cqyjsc37>How I Designed and Built a Highly Precise Targeting Platform to Track Satellites, Planets, and Stars</h2> <h2 data-astro-cid-cqyjsc37>Introduction </h2> <p data-astro-cid-cqyjsc37>
As an Aerospace Engineering student, I'm passionate about space exploration and aviation, and while actually exploring
          space is a bit out of reach for me, I wanted to build a project to accurately point at objects in the sky. Anything from
          satellites to stars, I wanted to be able to point at it accurately and automatically, and so I built <b data-astro-cid-cqyjsc37>AstroTargeter</b>.
          The key features of this project are:
</p> <ul data-astro-cid-cqyjsc37> <li data-astro-cid-cqyjsc37>Highly precise 2DOF platform actuated by stepper motors</li> <li data-astro-cid-cqyjsc37>Placeholder laser pointer, could be a telescope or dish antenna in the future</li> <li data-astro-cid-cqyjsc37>Astronomical calculations using Python</li> <li data-astro-cid-cqyjsc37>Integrated custom system with GPS, Magnetometer, Accelerometer, and Gyroscope</li> <li data-astro-cid-cqyjsc37>Fused sensor readings to accurately localize platform in the universe</li> <li data-astro-cid-cqyjsc37>Onboard database of celestial objects and satellites downloaded from NASA</li> <li data-astro-cid-cqyjsc37>Fully 3D printed frame with off-the-shelf metal gears and mounting hardware</li> <li data-astro-cid-cqyjsc37>Custom PCB for stepper motor drive, sensor interfacing, and reliability</li> </ul> <p data-astro-cid-cqyjsc37>
Below is a CAD rendering of the final prototype, and the final prototype itself which is a sleek and refined design that I am very proud of.
</p> <img src="/_astro/TargeterCAD_2.CgPc7s7u.JPG" alt="Targeter CAD Final" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <img src="/_astro/TargeterPic2.C8xysoqM.JPG" alt="Targeter Picture Final" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <h3 data-astro-cid-cqyjsc37> Current Project State Demo </h3> <p data-astro-cid-cqyjsc37>
Currently, all of the hardware is complete, and most of the software is complete as far as core functionality goes, but I have
          yet to test it with a wide range of objects, and have only implemented pointing at the moon. I intend to test more objects in
          the future and add it to this section when I do, but I have been prioritizing other projects. I will add a video
          here in the future to show the platform in action, but for now feel free to read on to learn more about the design process.
</p> <h2 data-astro-cid-cqyjsc37>Initial Prototype </h2> <p data-astro-cid-cqyjsc37>
The current device that will be discussed in-depth is actually a V2 prototype which made many improvements over the V1 prototype.
          For completeness purposes, I would like to start with the V1 prototype, since the iterative design aspect of this project
          is a key part in the success of the final product. The V1 prototype was made shortly after getting my first 3D printer,
          and is based on a very preliminary knowledge of "good" electronic design. Even with all of these limitations,
          the V1 prototype did successfully control the stepper motors to point in the right directions.
</p> <img src="/_astro/TargeterPrototypeV1.ChdO_Wat.JPG" alt="Targeter V1" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <p data-astro-cid-cqyjsc37>
The initial prototype implemented most of the key requirements, including 2 stepper motors, an accelerometer
          and gyroscope, as well as magnetometer. I used two L298N motor drives to control the stepper motors, and a Raspberry Pi 3B.
          Additionally, I soldered up a proto-board to connect all the wires together, which resulted in quite a messy setup but it did work.
          For the gears, I used an all-3d-printed design, which was not very reliable and had a lot of backlash, particularly
          for the multi-stage gearbox for elevation control. The azimuth control was better, but not great. Additionally,
          the Raspberry Pi 3B was not powerful enough for comfortable remote-control and programming, which made the software
          aspect harder to work on. Finally, I simply wasn't happy with the overall look of the prototype, and wanted to make
          a much more sleek and refined design for the V2 prototype.
</p> <h2 data-astro-cid-cqyjsc37> Improved Gears </h2> <p data-astro-cid-cqyjsc37>
The aspect of iteration from V1 to V2 that I wanted to address was the backlash in the gears.
          This was a major issue in the V1 prototype which limited the precision of the platform greatly.
          I used a series of of-the-shelf gears purchased for a few dollars each, coupled with lock-collars, bearings, and
          steel shafts cut to length using an angle-grinder and a vice. Although simple, the use of solid metal gears
          and stabilizing bearings resulted in a significant improvement, with effectively zero backlash in the elevation control.
          The elevation gearbox is shown below.
</p> <img src="/_astro/TargeterImprovedGears.BeN_-TDL.JPG" alt="Improved Gear System" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <p data-astro-cid-cqyjsc37>
Additionally, the azimuth control was improved with a similar system. While I could not purchase a large enough gear
          off-the-shelf to make both parts of the azimuth system work, I was able to use a metal gear for the stepper-stage and
          then 3D print the large gear with tight tolerances to ensure a snug fit. This resulted in a much more reliable and
          backlash-free system for the azimuth control. The improved azimuth hybrid-gear system is shown below.
</p> <img src="/_astro/AzumithGearSystem.BlId8Wfz.JPG" alt="Improved Gear System" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <h2 data-astro-cid-cqyjsc37> Custom PCB </h2> <p data-astro-cid-cqyjsc37>
A big issue with the V1 prototype was the messy wiring and the lack of a proper power management system for the stepper motors.
          Additionally, the L298N motor drivers would get very hot, pull more power than necessary, and are overall outdated inferior drivers to modern
          options. To address this, I learned PCB design in Altium Designer and made my first custom PCB ever for this project. The PCB had
          a few key functionalities:
</p> <ul data-astro-cid-cqyjsc37> <li data-astro-cid-cqyjsc37>Power management for the stepper motors and Raspberry Pi 4</li> <li data-astro-cid-cqyjsc37>Carrier for DRV8825 stepper motor drivers</li> <li data-astro-cid-cqyjsc37>Interfacing with the Raspberry Pi 4</li> <li data-astro-cid-cqyjsc37>Interfacing with the sensors</li> <li data-astro-cid-cqyjsc37>Clean up overall wire management</li> </ul> <p data-astro-cid-cqyjsc37>
The PCB rendering is shown below, along with its physical realization. The PCB was manufactured by PCBWay and the components
          were sourced from various suppliers. While the design isn't perfect (my first PCB ever), it worked in all the ways I needed it to,
          and I would probably only change a few small things if I were to make it again (mainly the addition of a ground plane). Here is the Altium PCB layout:
</p> <img src="/_astro/TargeterPCB.EZnwXitq.JPG" alt="Astro PCB Altium Layout" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <p data-astro-cid-cqyjsc37>And then here is the physical PCB after being soldered up and assembled with the components:</p> <img src="/_astro/SolderedAstroPCB1.BVwV4idP.JPG" alt="Soldered Astro PCB" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <h2 data-astro-cid-cqyjsc37> Electrical Whine Issue </h2> <p data-astro-cid-cqyjsc37>
One of the issues I discovered with my electrical system, actually not related to the PCB, was that the stepper motor
          driver PCB's (DRV8825) were causing a lot of noise in the system, which was audible as an awful high pitched whine any time
          the stepper motors were on. After extensive research and testing, I determined that the reason was that certain stepper motor
          models can make a whining sound due to harmonics in the driver when the driver is set to a particular "current chopping decay mode".
          Digging deeper in the manufacturer's datasheet and probing the driver with a multimeter revealed that the decay mode was set to "mixed",
          which was causing the noise for my motors, and a more reliable decay mode for my motors was "slow". Unfortunately the DRV8825 breakout
          board that I was using had no way to change the decay mode, so I had to manually solder a 0.4mm wire to the decay mode pin on the DRV8825.
          This was a very delicate operation, taking me an hour total for both modules, but once it was done, the noise was gone! Below is an
          image to give you an idea of what I did.
</p> <img src="/_astro/DRV8825SolderingV2.pUU1zf-b.jpg" alt="DRV8825 Soldering" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <h2 data-astro-cid-cqyjsc37> Overall Frame Redesign </h2> <p data-astro-cid-cqyjsc37>
In addition to all of the electronic improvements made, I also made various changes and upgrades to the 3D printed frame.
          It's not very interesting so I will not go into detail, but generally I did some weight reduction, aesthetic improvements,
          and obviously had to redesign the frame to fit the new gears and PCB. The final frame is shown in the first image of this page.
          The one thing I will say is that I chose to go with a hexagonal design for most frame components for weight-reduction as well as
          stylistic reasons. Take a moment to appreciate the beauty of the hexagon, and how it is used in the frame design below.
</p> <img src="/_astro/HexagonDesignPic1.yr2SyISp.JPG" alt="Soldered Astro PCB" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> <h2 data-astro-cid-cqyjsc37> Software </h2> <p data-astro-cid-cqyjsc37>
The software aspect of this project is divided into two sections. Low-level control of the stepper motors and sensors, and high-level
          astronomical calculations and interfacing. Since this platform does not need absolute realtime control, I opted to use Python for
          ease of development and readability. I built a custom stepper motor controller which interfaces with the DRV8825 drivers and
          allows calculations for micro-stepping, gear reductions, constant acceleration and deceleration, precise positioning, and
          dynamic speed limits for movements. This was integrated with a sensor fusion library that I also made custom to integrate
          all the readings from the magnetometer (to measure Earth's magnetic field as a digital compass), the accelerometer and gyroscope
          (to measure the platform's orientation relative to Earth's surface), and the GPS (to measure the platform's location on Earth and
          account for effects like magnetic declination). While I have working demos of all these aspects, they are not yet integrated
          in a good way, so I will leave out the code for now, but I will publish everything on GitHub once I finalize the project
          to a state that I am happy with.
</p> <h2 data-astro-cid-cqyjsc37> Calibration </h2> <p data-astro-cid-cqyjsc37>
One of the most important aspects of this project is the calibration. Since the platform is meant to be highly precise, and I'm using
          admittedly cheap sensors and motors, I needed to implement a multi-step calibration routine to ensure that the platform knows where it is
          to a high degree of accuracy, not just precision. The accelerometer/gyroscope is calibrated every time the platform is turned on, by
          turning itself in increments of 90 degrees and measuring the change in gravitational field detected it can accurately determine its
          orientation since it uses differences in measurements rather than absolute values. The magnetometer is calibrated once
          by turning the platform in multiple full circles and continuously tracking the magnetic field, then averaging the results to get a
          an accurate offset and scale factor for the magnetometer. The GPS is assumed to be accurate enough for my purposes, but I do
          implement an averaging filter. Below is an image of some calibration data from the magnetometer, showing the raw data from each axis,
          and then the calibrated compass heading in the final plot.
</p> <img src="/_astro/MagnetomererCalibrationGraphTargeter.CgDdUeY5.png" alt="Magnetometer Calibration Graph" style="width: 100%; max-width: 600px; margin-top: 10px; margin-bottom: 10px;" data-astro-cid-cqyjsc37> </div> </section> </div> </section> </div> </div> </section> </main> </body></html>