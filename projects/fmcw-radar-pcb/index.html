<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>FMCW Radar PCB | Aspen Erlandsson</title><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/_astro/_slug_.g6gHRgPj.css">
<link rel="stylesheet" href="/_astro/index.CqwNwqBU.css"></head> <body class="bg-slate-950 text-slate-100 antialiased"> <div class="pointer-events-none fixed inset-0 -z-10 opacity-40"> <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(56,189,248,0.18),transparent_25%)]"></div> <div class="absolute inset-0 bg-[radial-gradient(circle_at_80%_0%,rgba(129,140,248,0.12),transparent_22%)]"></div> <div class="absolute inset-0 bg-[radial-gradient(circle_at_10%_80%,rgba(52,211,153,0.12),transparent_30%)]"></div> </div> <main class="mx-auto flex max-w-6xl flex-col gap-6 px-4 pb-16 pt-10 sm:px-6 lg:px-8"> <div class="flex items-center justify-between gap-3"> <a class="inline-flex items-center gap-2 text-sm font-semibold text-sky-200 transition hover:text-sky-100" href="/#projects"> <span aria-hidden="true">‚Üê</span> Back to projects
</a> </div> <section class="relative overflow-hidden rounded-3xl border border-white/8 bg-slate-950/90 p-6 shadow-2xl backdrop-blur sm:p-10"> <div class="absolute inset-0 bg-gradient-to-br from-amber-200/65 via-lime-300/55 to-emerald-300/55 opacity-20"></div> <div class="relative space-y-8">  <div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"> <div class="space-y-2"> <h1 class="text-2xl font-bold text-slate-50 sm:text-3xl">FMCW Radar PCB</h1> <p class="max-w-3xl text-sm leading-relaxed text-slate-300/90">2.0-2.4GHz FMCW radar on a 6-layer GCPW PCB with tuned Yagi antennas. Validated RF performance using a spectrum analyzer and VNA.</p> </div> <div class="flex flex-wrap gap-2 sm:justify-end"> <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-200"> RF design / Validation </span> <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> 2.4GHz sweep </span><span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> 6-layer GCPW </span><span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-slate-400"> Bench validated </span> </div> </div> <div class="h-px w-full bg-white/5"></div> <div class="prose prose-invert max-w-none prose-headings:text-slate-100 prose-p:text-slate-300 prose-a:text-sky-300 hover:prose-a:text-sky-200 prose-strong:text-slate-50 prose-code:text-sky-200 prose-pre:bg-slate-950/50 prose-pre:border prose-pre:border-white/10"> <script type="module" src="/_astro/fmcw-radar-pcb.astro_astro_type_script_index_0_lang.2DUTERfN.js"></script> <section class="page" data-astro-cid-etglxhag> <div class="container" data-astro-cid-etglxhag> <section class="hero-crop" aria-label="Project hero" data-astro-cid-etglxhag> <video autoplay muted loop playsinline data-astro-cid-etglxhag> <source src="/_astro/RadarHeroVideo.DRwXc8oX.mp4" type="video/mp4" data-astro-cid-etglxhag>
Your browser does not support the video tag.
</video> <div class="hero-overlay" data-astro-cid-etglxhag></div> <div class="hero-title" data-astro-cid-etglxhag> <h1 class="mb-3 bread" data-astro-cid-etglxhag>FMCW Radar PCB</h1> </div> </section> <section class="summary" data-astro-cid-etglxhag> <div class="card" data-astro-cid-etglxhag> <h4 class="kicker" data-astro-cid-etglxhag>Technical focus</h4> <ul class="bullets" data-astro-cid-etglxhag> <li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>2.0-2.4GHz FMCW radar on a 6-layer impedance-controlled stackup with VCO, PA, LNA chain, mixer, and LPF.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Designed and tuned paired Yagi-Uda antennas with a calculator and VNA, mounted on a 3D printed structure.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Selected RF passives via Murata Simsurfer, curved GCPW traces, and used bias networks to manage gain and noise.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Bench validation with a TinySA, function generator sweep, and oscilloscope.</span> </li> </ul> </div> <div class="card" data-astro-cid-etglxhag> <h4 class="kicker" data-astro-cid-etglxhag>Results</h4> <ul class="bullets" data-astro-cid-etglxhag> <li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Assembled via stencil and hotplate; validated the signal source and PA on a TinySA before full chain tests.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Sawtooth VCO drive produced the expected wideband sweep; mixer IF shows distance-varying sine vs the wall target.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Antennas tuned after printing; VNA confirmed matching and link budget assumptions.</span> </li><li class="bullet-row" data-astro-cid-etglxhag> <span class="dot" data-astro-cid-etglxhag></span> <span data-astro-cid-etglxhag>Planned next steps: on-board DSP/MCU and integrated patch array to remove external antennas.</span> </li> </ul> </div> <div class="card stack" data-astro-cid-etglxhag> <h4 class="kicker" data-astro-cid-etglxhag>Stack</h4> <div class="chips" data-astro-cid-etglxhag> <span class="chip" data-astro-cid-etglxhag>Altium Designer</span><span class="chip" data-astro-cid-etglxhag>RF design</span><span class="chip" data-astro-cid-etglxhag>TinySA</span><span class="chip" data-astro-cid-etglxhag>NanoVNA</span><span class="chip" data-astro-cid-etglxhag>Oscilloscope</span><span class="chip" data-astro-cid-etglxhag>Arbitrary function generator</span><span class="chip" data-astro-cid-etglxhag>3D printing</span><span class="chip" data-astro-cid-etglxhag>Antenna Tuning</span><span class="chip" data-astro-cid-etglxhag>MuRata Simsurfer</span><span class="chip" data-astro-cid-etglxhag>GCPW microstrips</span> </div> </div> </section> <section class="writeup-wrap" data-astro-cid-etglxhag> <div class="writeup" data-astro-cid-etglxhag> <h2 data-astro-cid-etglxhag>System Overview</h2> <p data-astro-cid-etglxhag>
This project realized my goal of building a frequency-modulated continuous-wave radar (FMCW) operating between 2.0-2.4GHz. The system is built on a custom 6-layer impedance controlled stackup integrating a voltage controlled oscillator (VCO), a power amplifier, multiple low-noise amplifiers (LNAs), a mixer, and low-pass filter.
</p> <img class="media" src="/_astro/RadarBoardWithAntennas.CUTdEqzR.jpg" alt="FMCW radar PCB - board with antennas" data-astro-cid-etglxhag> <p data-astro-cid-etglxhag>
Using analytical equations and CAD (3D printing), I designed two identical externally connected high-gain Yagi-Uda antennas for the transmit and receive paths of my radar board.
</p> <h2 data-astro-cid-etglxhag>Hardware Validation & Results</h2> <p data-astro-cid-etglxhag>
By the time the board arrived for assembly, I had plenty of experience assembling advanced PCBs by hand through UTAT Rocketry. I used a RoHS solder paste with a stencil and framework jig so dispense the paste on each pad, and tweezers to place components. Using a hotplate I reflowed the board and inspected for any defects.
</p> <img class="media" src="/_astro/RadarAssembly.CDI9ne_Z.jpg" alt="FMCW radar PCB - assembly photo" data-astro-cid-etglxhag> <p data-astro-cid-etglxhag>
Once assembled, I powered it on using my programmable power supply and measured the output feed power level and frequency using my TinySA spectrum analyzer. This confirmed that the signal source and power amplifier were behaving as expected. Using my arbitrary function generator I produced a sawtooth signal and observed a very wideband power output on my spectrum analyzer as expected.
</p> <img class="media" src="/_astro/RadarSATest.Cyu44w5C.jpg" alt="FMCW radar PCB - spectrum analyzer screenshot" data-astro-cid-etglxhag> <p data-astro-cid-etglxhag>
Because my frequency band was not exactly WiFi, and deliberately a few hundred MHz lower, I had to make my own antennas. Using an online calculator <a href="https://k7mem.com/Ant_Yagi_VHF_Quick.html" target="_blank" rel="noopener noreferrer" data-astro-cid-etglxhag>Yagi antenna design calculator</a>
I generated initial design parameters and 3D printed a structure to hold the copper elements. Because I had a Vector Network Analyzer (VNA), I knew I would be able to tune the design after making it, so I designed-in adjustable element placement from the start.
</p> <img class="media" src="/_astro/RadarAntennas.DHWUxEZg.jpg" alt="FMCW radar PCB - antennas photo" data-astro-cid-etglxhag> <p data-astro-cid-etglxhag>
After printing and tuning the two antennas it's time to put everything together and power on the system. At the time of writing I rent a basement room which makes testing easy - the walls have earth and stone behind them which strongly reflect 2.2GHz signals and have a high effective radar cross section. I used my function generator to create the same sawtooth VCO drive signal, and measured the output from the mixer using my oscilloscope. As expected I measured approximately a sine wave with frequency varying with how close the antennas were from my observed object (the wall).
</p> <img class="media" src="/_astro/RadarOscilloscope.mYyEB0Wh.jpg" alt="FMCW radar PCB - oscilloscope screenshot" data-astro-cid-etglxhag> <h2 data-astro-cid-etglxhag>PCB Design & Implementation</h2> <p data-astro-cid-etglxhag>
I used Altium Designer for schematic design and layout. Many RF principles were considered during both component selection, and layout:
</p> <ul data-astro-cid-etglxhag> <li data-astro-cid-etglxhag>Power levels stack up between components.</li> <li data-astro-cid-etglxhag>SNR/Link budget based on typical radar cross sections, LNA noise figure, etc.</li> <li data-astro-cid-etglxhag>SRF/Parasitic properties of passive components used. I referenced MuRata Simsurfer to carefully select appropriate capacitors.</li> <li data-astro-cid-etglxhag>Bias networks for amplifier power.</li> <li data-astro-cid-etglxhag>Low noise power source design.</li> <li data-astro-cid-etglxhag>Impedance matching traces.</li> <li data-astro-cid-etglxhag>Smoothing corners, pad interfaces, etc. to minimize reflections.</li> <li data-astro-cid-etglxhag>Grounded co-planar waveguide (GCPW) microstrips to reduce coupling across traces while ensuring correct impedance. </li> </ul> <img class="media" src="/_astro/RadarMurata.Ard1D3Vp.jpg" alt="FMCW radar PCB - MuRata Simsurfer screenshot" data-astro-cid-etglxhag> <img class="media" src="/_astro/RadarCurvedTraces.BEl-HiFZ.jpg" alt="FMCW radar PCB - curved traces screenshot" data-astro-cid-etglxhag> <p data-astro-cid-etglxhag>
Once the design was finished I did what all good designers do - ask for review from someone more skilled. After implementing some feedback from my electronics mentor regarding component/pad size (use 0402 in some places instead of 0603 as the pad size better matches the trace), I sent the board off for manufacturing.
</p> <img class="media" src="/_astro/RadarPCBRender.B0us3Dge.jpg" alt="FMCW radar PCB - Gerber or PCB view" data-astro-cid-etglxhag> <h2 data-astro-cid-etglxhag>Project Origin & Theory</h2> <p data-astro-cid-etglxhag>
After over half a year in the position of Avionics Lead on the University of Toronto Aerospace Team (UTAT) Rocketry, I felt drawn to engage with a more challenging design space - high frequency RF. The highest frequency system on-board our rocket is a GPS receiver, which almost doesn't count since the only design work required is routing a single impedance-matched trace from the SMA connector into the GPS module.
</p> <p data-astro-cid-etglxhag>
I wanted to build a radar system for a while, and this project became the realization of my interest. The operating principle of a FMCW radar is rather simple - continuously transmit a sine wave and sweep the frequency, then subtract that from your received signal and a quick calculation reveals the distance of the object under observation WITHOUT needing highly precise timing and on/off control of the transmitted pulse.
</p> <p data-astro-cid-etglxhag>
This enables much higher measurement rates, and even the ability to determine the speed of the object under observation by measuring how the phase of the incoming signal changes with time.
</p> <img class="media" src="/_astro/RadarSchematic.BOjPi1h4.jpg" alt="FMCW radar PCB - system diagram or Altium schematic" data-astro-cid-etglxhag> <h2 data-astro-cid-etglxhag>Future Improvements</h2> <p data-astro-cid-etglxhag>
However, testing exposed multiple flaws in the current design that I would like to address in an updated version of this project:
</p> <ul data-astro-cid-etglxhag> <li data-astro-cid-etglxhag>The external antennas are quite inconvenient for moving the device around, and the SMA ports and cables have un-necessary parasitics. Future design iterations should use a high gain patch antenna array on-PCB.</li> <li data-astro-cid-etglxhag>Requiring a function generator and oscilloscope to operate the device makes sense for a first-attempt to validate the core RF design, but the refined version should feature an onboard DSP stack through an MCU or FPGA. I am strongly considering the STM32H7 series as I have a lot of experience using it on UTAT and it has decent ADCs and DACs built-in.</li> </ul> <p data-astro-cid-etglxhag>
In conclusion, I learned a ton about practically applying RF concepts read about in textbooks, and validated that I can build such a system end to end including testing. I feel motivated to build an improved version based on the lessons learned, and much more confident diving into any future RF and analog signal work.
</p> </div> </section> </div> </section> </div> </div> </section> </main> </body></html>